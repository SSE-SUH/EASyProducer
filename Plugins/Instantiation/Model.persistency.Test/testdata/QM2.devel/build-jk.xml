<?xml version="1.0" encoding="UTF-8"?>
<project name="QM2.devel" default="build" basedir="." xmlns:jacoco="antlib:org.jacoco.ant">

    <!-- import von globalen Properties Einstellungen -->
    <property file="${user.home}/global-build.properties"/>
    <property file="${user.home}/qualimaster-build.properties"/>
    
    <include file="${user.home}/macros.xml"/>
		
    <taskdef uri="antlib:org.jacoco.ant" resource="org/jacoco/ant/antlib.xml" />

    <!-- 
    <path id="easyTaskDef.lib" >
        <fileset dir="${home.base.dir}/${projects.standalone.dir}/build/generatedLibs.ex/dist">
            <include name="*.jar" />
        </fileset>
    </path> -->
    	
	<path id ="includes">
    </path>
	
	<!-- Targets  -->
	<target name="init">
	</target>
	
	<!-- Compile all files without test classes -->
	<target name="build" depends="init">
	    <mkdir dir="easyLibs"/>
	    
	    <!-- copy the standalone libraries to avoid problems with building the standalone libs -->
	    <copy todir="easyLibs">
	      <!-- aim is QualiMaster.EASyRuntime/workspace/build/generatedLibs.rt.noXtext/dist -->
          <fileset dir="${home.base.dir}/${projects.standalone.dir}/build/generatedLibs.ex/dist">
            <include name="**/*.jar" />
          </fileset>	        
	    </copy>

	    <!-- collect the standalone libraries -->
	    <path id="easyTaskDef.lib" >
          <fileset dir="easyLibs">
            <include name="*.jar" />
          </fileset>
        </path>
	    	    
	    
        <!-- run the full VIL build -->
        <property name="projectFolder" location="${home.base.dir}/QM-Pipelines/workspace"/>
	    <taskdef name="easy" classname="de.uni_hildesheim.sse.easy.ant.EASy" classpathref="easyTaskDef.lib"/>
        <easy source="${projectFolder}" target="${projectFolder}" projectName="QM"/> <!-- reasoner="EASy-Producer reasoner v1:0.1" -->
        <!-- test -->
        <ant antfile="pipelines.xml"/>
        <!-- deploy - all targets? -->
    </target>
	
</project>
