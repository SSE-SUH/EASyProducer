project PipelinesCfgL3S{
	
	import Pipelines;
	import FamiliesCfg;
	import DataManagementCfg;
	
	Source src_L3S;                                                       
    Sink snk_L3S;
	FamilyElement peFilter;  	
	FamilyElement peCount;
	  
	Flow f1_L3S;
	f1_L3S={
		name = "src-filter",
		destination = refBy(peFilter),
		grouping = Grouping.shuffleGrouping
	};  
	
	Flow f2_L3S;                                                                                                            
	f2_L3S={
	    name = "filter-count",
		destination = refBy(peCount), 
		grouping = Grouping.fieldsGrouping
	};
	
	Flow f3_L3S;
	f3_L3S={
		name = "count-snk",
		destination = refBy(snk_L3S),
		grouping = Grouping.shuffleGrouping
	};
		
	src_L3S.name = "src";
	src_L3S.output = {refBy(f1_L3S)}; 
	src_L3S.source = dataSources[1];         
	
	peFilter.name="peFilter";
	peFilter.family = refBy(fSentimentTwitterStream);  
	peFilter.output = {refBy(f2_L3S)}; 
	
	peCount.name="peCount";
	peCount.family = refBy(fSentimentTwitterStream);
	peCount.output = {refBy(f3_L3S)}; 
	
	snk_L3S.name = "snk";
	snk_L3S.sink = dataSinks[1];
	
	Pipeline pL3S;
	pL3S = Pipeline {
		name = "L3S",
		sources = {refBy(src_L3S)},
		numworkers = 1
	};

  
    
    freeze {
        f1_L3S;
        f2_L3S;
        f3_L3S;
        src_L3S;
        snk_L3S;
        peFilter;
        peCount;
        pL3S;
		
    } 	
	
}